scheduler_tick_secs: 1
max_concurrent_tasks: 100
logging_level: "debug"
persistence_path: "./orion-data-node2"
metrics_port: 9001
metrics_enabled: true

node:
  name: "node-2"
  hostname: "localhost"
  listen_addr: "0.0.0.0:8081"  # CHANGED: 8082 â†’ 8081 (unique port)
  capabilities:
    cpu_cores: 4
    memory_mb: 8192
    storage_mb: 102400
    max_concurrent_tasks: 50
    supported_task_types:
      - default
      - gpu
      - high-memory
      - memory-intensive
      - cpu-intensive
      - low-latency
      - general
      - io-intensive

cluster_config:
  enabled: true
  cluster_name: "orion-cluster"  # MUST match all nodes
  node_id: "11111111-2222-3333-4444-555555555555"
  node_name: "node-2"
  hostname: "localhost"
  node_listen_addr: "0.0.0.0:9091"
  advertise_addr: "127.0.0.1:9091"
  heartbeat_interval_ms: 5000
  failure_timeout_secs: 30
  cluster_peers: ["127.0.0.1:9090", "127.0.0.1:9092"]  # ADDED Node 3
  node_persistence_path: "./orion-nodes-node2"
  min_health_score: 70.0
  auto_discovery: true
  discovery_type: "static"  # MUST be "static" (not "local")
  capabilities:
    cpu_cores: 4
    memory_mb: 8192
    max_concurrent_tasks: 50
    supported_task_types: ["cpu_intensive", "memory_intensive", "io_intensive"]

routing:
  enabled: true
  default_strategy: "least_loaded"
  strategies:
    round_robin:
      enabled: true
    least_loaded:
      enabled: true
      weight_cpu: 0.4
      weight_memory: 0.3
      weight_latency: 0.3
    latency_aware:
      enabled: true
      latency_threshold_ms: 100
    failover:
      enabled: true
      max_retries: 3
      blacklist_duration_secs: 300
  selection_timeout_ms: 5000
  health_check_interval_secs: 10